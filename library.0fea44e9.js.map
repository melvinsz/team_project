{"mappings":"mkBAAA,IAAAA,EAAAC,EAAA,S,0BAOMC,EAAO,CACXC,WAAYC,SAASC,cAAc,eACnCC,UAAWF,SAASC,cAAc,cAClCE,UAAWH,SAASC,cAAc,kBAG9BG,EAAcJ,SAASC,cAAc,eAE3CH,EAAKC,WAAWM,iBAAiB,SAcjC,WAME,GALAP,EAAKI,UAAUI,UAAUC,OAAO,cAChCT,EAAKC,WAAWO,UAAUE,IAAI,cAE9BJ,EAAYK,UAAY,IAEnBC,GAA0C,IAAzBA,EAAcC,OAGlC,OAFAb,EAAKK,UAAUG,UAAUE,IAAI,eAC7BI,EAAAC,GAASC,OAAOC,QAAQ,8BAG1BjB,EAAKK,UAAUG,UAAUC,OAAO,UAChCK,EAAAC,GAASC,OAAOE,QAAS,8BAEzB,EAAApB,EAAAqB,SAAaP,E,IA3BfZ,EAAKI,UAAUG,iBAAiB,SA8BhC,WAME,GALAP,EAAKI,UAAUI,UAAUE,IAAI,cAC7BV,EAAKC,WAAWO,UAAUC,OAAO,cAEjCH,EAAYK,UAAY,IAEnBS,GAAsC,IAAvBA,EAAYP,OAG9B,OAFAb,EAAKK,UAAUG,UAAUE,IAAI,eAC7BI,EAAAC,GAASC,OAAOC,QAAQ,8BAG1BjB,EAAKK,UAAUG,UAAUC,OAAO,UAChCK,EAAAC,GAASC,OAAOE,QAAS,uDAEzB,EAAApB,EAAAqB,SAAaC,E,IA1Cf,IAAMA,EAAcC,EAAAF,QAAWG,KAAK,gBAC9BV,EAAgBS,EAAAF,QAAWG,KAAK,iBAEtC,IAAKV,GAA0C,IAAzBA,EAAcC,OAGlC,OAFAb,EAAKK,UAAUG,UAAUE,IAAI,eAC7BI,EAAAC,GAASC,OAAOC,QAAQ,+BAGxB,EAAAnB,EAAAqB,SAAaP,E,IC1Bfb,EAAA,S,iCCAAA,EAAA,S,WAAA,I,wBAOcG,SAASC,cAAc,eACvBD,SAASC,cAAc,iBAC1BD,SAASC,cAAc,eACpBD,SAASC,cAAc,kBACxBD,SAASC,cAAc,iBACzBD,SAASC,cAAc,cACpBD,SAASC,cAAc,kBACtBD,SAASC,cAAc,mBAC1BD,SAASC,cAAc,gBAGnCkB,EAAAF,QAAWG,KAAK,gB","sources":["src/js/header-library.js","src/library.js","src/js/pagination_library.js"],"sourcesContent":["'use strict';\n\nimport renderMarkur from './render_cards';\nimport Notiflix from 'notiflix';\n\nimport localStore from './services/local_storage.js';\n\nconst refs = {\n  btnWatched: document.querySelector('#btnWatched'),\n  btnQueued: document.querySelector('#btnQueued'),\n  pgntPanel: document.querySelector('.pagination-l'),\n};\n\nconst colectionUl = document.querySelector('.collection');\n\nrefs.btnWatched.addEventListener('click', clickOnBtnWatchedHandler);\nrefs.btnQueued.addEventListener('click', clickOnBtnQueuedHandler);\n\nconst queueMovies = localStore.load('queue-movies');\nconst watchedMovies = localStore.load('watched-films');\n\nif (!watchedMovies || watchedMovies.length === 0) {\n  refs.pgntPanel.classList.add('hidden');\n  Notiflix.Notify.failure('Sorry, there are no films.');\n  return;\n} else {\n  renderMarkur(watchedMovies);\n}\n\nfunction clickOnBtnWatchedHandler() {\n  refs.btnQueued.classList.remove('active-btn');\n  refs.btnWatched.classList.add('active-btn');\n\n  colectionUl.innerHTML = '';\n\n  if (!watchedMovies || watchedMovies.length === 0) {\n    refs.pgntPanel.classList.add('hidden');\n    Notiflix.Notify.failure('Sorry, there are no films.');\n    return;\n  }\n  refs.pgntPanel.classList.remove('hidden');\n  Notiflix.Notify.success(`You already watched it :)`);\n\n  renderMarkur(watchedMovies);\n}\n\nfunction clickOnBtnQueuedHandler() {\n  refs.btnQueued.classList.add('active-btn');\n  refs.btnWatched.classList.remove('active-btn');\n\n  colectionUl.innerHTML = '';\n\n  if (!queueMovies || queueMovies.length === 0) {\n    refs.pgntPanel.classList.add('hidden');\n    Notiflix.Notify.failure('Sorry, there are no films.');\n    return;\n  }\n  refs.pgntPanel.classList.remove('hidden');\n  Notiflix.Notify.success(`Hooray! There are something interesting for you :)`);\n\n  renderMarkur(queueMovies);\n}\n","import './js/services/services';\nimport './js/modal';\nimport './js/add_to_watched';\nimport './js/header-library';\nimport './js/pagination_library';\n","import localStore from './services/local_storage';\nimport renderMarkur from './render_cards';\n\nconst count = 6;\nlet n;\nlet total_pages;\nconst ref = {\n  collection: document.querySelector('.collection'),\n  pagination: document.querySelector('.pagination-l'),\n  btnLeft: document.querySelector('.btn-left-l'),\n  secondLeft: document.querySelector('.second-left-l'),\n  firstLeft: document.querySelector('.first-left-l'),\n  current: document.querySelector('.current-l'),\n  firstRight: document.querySelector('.first-right-l'),\n  secondRight: document.querySelector('.second-right-l'),\n  btnRight: document.querySelector('.btn-right-l'),\n};\n\nlocalStore.load('watched-films');\n\nfunction enablePagination(d) {\n  const total = Math.ceil(d / count);\n\n  if (total > 2) {\n    ref.firstLeft.style.display = 'none';\n    ref.secondLeft.style.display = 'none';\n    ref.btnLeft.style.display = 'none';\n  } else if (total === 2) {\n    ref.firstLeft.style.display = 'none';\n    ref.secondLeft.style.display = 'none';\n    ref.btnLeft.style.display = 'none';\n    ref.secondRight.style.display = 'none';\n  } else if (total === 1) {\n    ref.firstRight.style.display = 'none';\n    ref.secondRight.style.display = 'none';\n    ref.firstLeft.style.display = 'none';\n    ref.secondLeft.style.display = 'none';\n    ref.btnRight.style.display = 'none';\n    ref.btnLeft.style.display = 'none';\n  } else {\n    ref.current.style.display = 'none';\n    ref.firstRight.style.display = 'none';\n    ref.secondRight.style.display = 'none';\n    ref.firstLeft.style.display = 'none';\n    ref.secondLeft.style.display = 'none';\n    ref.btnRight.style.display = 'none';\n    ref.btnLeft.style.display = 'none';\n  }\n\n  return total;\n}\n\nexport { count, enablePagination };\n\nasync function onSearchLeft(event) {\n  ref.collection.innerHTML = '';\n  ref.pagination.style.display = 'none';\n  n = Number(ref.current.textContent) - 1;\n\n  if (btnQueued.classList.contains('active-btn')) {\n    const queueMovies = localStore.load('queue-movies');\n    total_pages = enablePagination(queueMovies.length);\n    renderMarkur(queueMovies.slice(count * (n - 1), n * count));\n  } else {\n    const watchedMovies = localStore.load('watched-films');\n    total_pages = enablePagination(watchedMovies.length);\n    renderMarkur(watchedMovies.slice(count * (n - 1), n * count));\n  }\n\n  ref.current.textContent = n;\n  ref.firstLeft.textContent = n - 1;\n  ref.firstRight.textContent = n + 1;\n  ref.secondLeft.textContent = n - 2;\n  ref.secondRight.textContent = n + 2;\n\n  ref.pagination.style.display = 'flex';\n\n  if (n === 2 && total_pages === 2) {\n    ref.secondLeft.style.display = 'none';\n    ref.firstRight.style.display = 'none';\n    ref.secondRight.style.display = 'none';\n    ref.btnRight.style.display = 'none';\n  } else if (n === 2 && total_pages === 3) {\n    ref.secondLeft.style.display = 'none';\n    ref.secondRight.style.display = 'none';\n  } else if (n === 2 && total_pages > 3) {\n    ref.secondLeft.style.display = 'none';\n  } else if (n === total_pages) {\n    ref.firstRight.style.display = 'none';\n    ref.secondRight.style.display = 'none';\n    ref.btnRight.style.display = 'none';\n  } else if (n === total_pages - 1) {\n    ref.secondRight.style.display = 'none';\n  }\n}\n\nasync function onSearchRight(event) {\n  ref.collection.innerHTML = '';\n  ref.pagination.style.display = 'none';\n  n = Number(ref.current.textContent) + 1;\n\n  if (btnQueued.classList.contains('active-btn')) {\n    const queueMovies = localStore.load('queue-movies');\n    total_pages = enablePagination(queueMovies.length);\n    renderMarkur(queueMovies.slice(count * (n - 1), n * count));\n  } else {\n    const watchedMovies = localStore.load('watched-films');\n    total_pages = enablePagination(watchedMovies.length);\n    renderMarkur(watchedMovies.slice(count * (n - 1), n * count));\n  }\n\n  ref.current.textContent = n;\n  ref.firstLeft.textContent = n - 1;\n  ref.firstRight.textContent = n + 1;\n  ref.secondLeft.textContent = n - 2;\n  ref.secondRight.textContent = n + 2;\n\n  ref.pagination.style.display = 'flex';\n\n  if (n === 1 && total_pages === 2) {\n    ref.secondLeft.style.display = 'none';\n    ref.firstRight.style.display = 'none';\n    ref.secondRight.style.display = 'none';\n    ref.btnRight.style.display = 'none';\n  } else if (n === 1 && total_pages === 3) {\n    ref.secondLeft.style.display = 'none';\n    ref.secondRight.style.display = 'none';\n  } else if (n === 1 && total_pages > 3) {\n    ref.secondLeft.style.display = 'none';\n  } else if (n === 2 && total_pages === 4) {\n    ref.secondRight.style.display = 'none';\n  } else if (n === total_pages - 1) {\n    ref.firstRight.style.display = 'none';\n    ref.secondRight.style.display = 'none';\n    ref.btnRight.style.display = 'none';\n  }\n}\n"],"names":["$jgRgq","parcelRequire","refs","btnWatched","document","querySelector","btnQueued","pgntPanel","colectionUl","addEventListener","classList","remove","add","innerHTML","watchedMovies","length","$parcel$interopDefault","$6JpON","Notify","failure","success","default","queueMovies","$cykCC","load"],"version":3,"file":"library.0fea44e9.js.map"}